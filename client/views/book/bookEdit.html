<template name="bookEdit">
  <h1 class="page-header">Buch bearbeiten</h1>  
  <div class="row">
    <div class="col-sm-12">
      <form class="form-horizontal" id="formBookEdit" role="form">
        <div class="row">
          <div class="col-sm-12">
            <fieldset>
              <!-- affiliateData -->
              <div class="form-group">
                <label for="affiliateData" class="col-sm-2 control-label">Vertragspartner</label>
                <div class="col-sm-10">
                  {{> editAffiliates}}
                </div>
              </div>
            </fieldset>
          </div>
        </div>
        <div class="spacer-20"></div>
        <div class="row">
          <div class="col-sm-6">          
            <fieldset>
              <legend>Grunddaten Buch</legend>
              <!-- bookTitle -->
              <div class="form-group form-group-sm">
                <label for="bookTitle" class="col-sm-3 control-label">Titel</label>
                <div class="col-sm-9">
                  <input type="text" class="form-control" id="bookTitle" name="bookTitle" value="{{bookTitle}}">
                </div>
              </div>
              <!-- bookSubtitle -->
              <div class="form-group form-group-sm">
                <label for="bookSubtitle" class="col-sm-3 control-label">Untertitel</label>
                <div class="col-sm-9">
                  <input type="text" class="form-control" id="bookSubtitle" name="bookSubtitle" value="{{bookSubtitle}}">
                </div>
              </div>
              <!-- bookSeries -->
              <div class="form-group form-group-sm">
                <label for="bookSeries" class="col-sm-3 control-label">Reihe</label>
                <div class="col-sm-9">
                  <input type="text" class="form-control" id="bookSeries" name="bookSeries" value="{{bookSeries}}">
                </div>
              </div>
            </fieldset>
            <div class="spacer-20"></div>
            <fieldset>
              <!-- authors -->
              <div class="form-group">
                <label for="authors" class="col-sm-3 control-label">Autor(en)</label>
                <div class="col-sm-9">
                  {{> editAuthors}}
                </div>
              </div>
              <!-- bookPrice -->
              <div class="form-group form-group-sm">
                <label for="bookPrice" class="col-sm-3 control-label">Ladenpreis</label>
                <div class="col-sm-5">
                  <div class="input-group">
                    <input type="text" pattern="\d+(,\d{2})?" class="form-control" id="bookPrice" name="bookPrice" placeholder="12,00 oder 12" value="{{bookPrice}}">
                    <span class="input-group-addon"><i class="icon-euro"></i></span>                    
                  </div>
                </div>
                <label for="mwst" class="col-sm-3 control-label sr-only" aria-hidden="true">MwSt</label>
                <div class="col-sm-4">
                  {{> editMwSt}}
                </div>
              </div>
              <!-- bookProductionPrice -->
              <div class="form-group form-group-sm">
                <label for="bookProductionPrice" class="col-sm-3 control-label">Einzelstückpreis</label>
                <div class="col-sm-5">
                  <div class="input-group">
                    <input type="text" pattern="\d+(,\d{2})?" class="form-control" id="bookProductionPrice" name="bookProductionPrice" placeholder="12,00 oder 12" value="{{bookProductionPrice}}">
                    <span class="input-group-addon"><i class="icon-euro"></i></span>                    
                  </div>
                </div>
              </div>
            </fieldset>
          </div>
          <div class="col-sm-6">
            <fieldset>
              <legend>Zugehörige Nummern</legend>
              <!-- bookISBN -->
              <div class="form-group form-group-sm">
                <label for="bookISBN" class="col-sm-3 control-label">ISBN</label>
                <div class="col-sm-9">
                  <input type="text" pattern="(?=.{17}$)97[89]-(?:[0-9]+-){2}[0-9]+-[0-9]" placeholder="978-3-" class="form-control" id="bookISBN" name="bookISBN" value="{{bookISBN}}">
                </div>
              </div>              
              <!-- bookEAN -->
              <div class="form-group form-group-sm">
                <label for="bookEAN" class="col-sm-3 control-label">EAN</label>
                <div class="col-sm-9">
                  <input type="text" pattern="97[89][0-9]{10}" placeholder="9783" class="form-control" id="bookEAN" name="bookEAN" value="{{bookEAN}}">
                </div>
              </div>
              <!-- bookISBN10 -->
              <div class="form-group form-group-sm">
                <label for="bookISBN10" class="col-sm-3 control-label">ISBN10</label>
                <div class="col-sm-9">
                  <input type="text" pattern="(?=.{13}$)(?:[0-9]+-){2}[0-9]+-[0-9Xx]" placeholder="3-" class="form-control" id="bookISBN10" name="bookISBN10" value="{{bookISBN10}}">
                </div>
              </div>
              <!-- bookArtNrI3 -->
              <div class="form-group form-group-sm">
                <label for="bookArtNrI3" class="col-sm-3 control-label">ArtNr. I3</label>
                <div class="col-sm-5">
                  <input type="text" class="form-control" id="bookArtNrI3" name="bookArtNrI3" value="{{bookArtNrI3}}">
                </div>
              </div>
              <!-- bookArtNrBH -->
              <div class="form-group form-group-sm">
                <label for="bookArtNrBH" class="col-sm-3 control-label">ArtNr. BH</label>
                <div class="col-sm-5">
                  <input type="text" class="form-control" id="bookArtNrBH" name="bookArtNrBH" value="{{bookArtNrBH}}">
                </div>
              </div>
            </fieldset>
          </div>
        </div>        
        <div class="spacer-20"></div>
        <div class="row">
          <div class="col-sm-6">
            <fieldset>
              <legend>Zusatzdaten</legend>
              <!-- bookType -->
              <div class="form-group form-group-sm">
                <label for="bookType" class="col-sm-3 control-label">Einband</label>
                <div class="col-sm-5">
                  <input type="text" class="form-control" id="bookType" name="bookType" placeholder="BC | PB" value="{{bookType}}">
                </div>
              </div>
              <!-- bookGroup -->
              <div class="form-group">
                <label for="bookGroup" class="col-sm-3 control-label">Produktgruppe</label>
                <div class="col-sm-9">
                  {{> editBookGroups}}
                </div>
              </div>
              <!-- bookPages -->
              <div class="form-group form-group-sm">
                <label for="bookPages" class="col-sm-3 control-label">Seiten</label>
                <div class="col-sm-5">
                  <input type="text" class="form-control" id="bookPages" name="bookPages" placeholder="" value="{{bookPages}}">
                </div>
              </div>
              <!-- bookHeigh -->
              <div class="form-group form-group-sm">
                <label for="bookHeigh" class="col-sm-3 control-label">Höhe</label>
                <div class="col-sm-5">
                  <div class="input-group">                                    
                    <input type="text" class="form-control" id="bookHeigh" name="bookHeigh" placeholder="in cm" value="{{bookHeigh}}">
                    <span class="input-group-addon">cm</span>
                  </div>
                </div>
              </div>
              <!-- bookWidth -->
              <div class="form-group form-group-sm">
                <label for="bookWidth" class="col-sm-3 control-label">Breite</label>
                <div class="col-sm-5">
                  <div class="input-group">  
                    <input type="text" class="form-control" id="bookWidth" name="bookWidth" placeholder="in cm" value="{{bookWidth}}">
                    <span class="input-group-addon">cm</span>
                  </div>
                </div>
              </div>
              <!-- bookWeight -->
              <div class="form-group form-group-sm">
                <label for="bookWeight" class="col-sm-3 control-label">Gewicht</label>
                <div class="col-sm-5">
                  <div class="input-group">  
                    <input type="text" class="form-control" id="bookWeight" name="bookWeight" placeholder="in g" value="{{bookWeight}}">
                    <span class="input-group-addon">g</span>
                  </div>
                </div>
              </div>
            </fieldset>             
          </div>          
          <div class="col-sm-6">
            <fieldset>
              <legend>Auflagen</legend>
              <!-- editionData -->
              {{#if editionData}}
                <table class="table table-condensed">
                  <thead>
                    <tr>
                      <th class="col-sm-10"></th>
                      <th class="col-sm-1"></th>
                      <th class="col-sm-1"></th>
                    </tr>
                  </thead>
                  <tbody>
                    {{#each editionData}}
                      <tr>
                        <td>{{editionNr}}. {{editionText}} {{#if releaseDate}}({{formatDate releaseDate}}){{/if}}</td> 
                        <td><a href="" id="{{editionId}}" class="editEdition">edit</a></td> 
                        <td><a href="" id="{{editionId}}" class="deleteEdition">delete</a></td>
                      </tr>
                    {{/each}}
                  </tbody>
                </table>
              {{else}}
                <p>Keine Auflage eingegeben</p>
              {{/if}}
              <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#editionNew">Neu hinzufügen</button>
            </fieldset>
            <div class="spacer-20"></div>
            <fieldset>
              <legend>Notizen</legend>
              <!-- notes -->
              <div class="form-group">
                <div class="col-sm-12">              
                  <textarea rows="3" name="bookNotes" data-schema-key="bookNotes" maxlength="1000" class="form-control">{{bookNotes}}</textarea>
                </div>           
              </div>
            </fieldset>           
          </div>
        </div>
        <div class="spacer-20"></div>
        <div class="row">
          <!-- buttons -->
          <div class="control-group">
            <div class="controls">
              <input type="submit" id="submit" name="submit" value="Aktualisieren" class="btn btn-default"/>
              <input type="button" id="back" name="back" value="Zurück" class="btn btn-default"/>
            </div>
          </div>
        </div>
        
      </form>
    </div>
  </div>
  {{> modalEditionNew}}
</template>             