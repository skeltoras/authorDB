<template name="bookList">
  {{> searchBooks}}  
</template>

<template name="searchBooks">  
  <h1 class="page-header">Buchliste</h1>
  Suche: {{> esInput index="books" placeholder="Titel / ISBN / ArtNr" }}
  <div class="spacer-20"></div>
  <table class="table table-striped table-condensed">
    <thead>
      <tr>
        <th>Titel</th>
        <th>ISBN</th>
        <th>Art.Nr.</th>
        <th>show</th>
        <th>edit</th>
      </tr>
    </thead>
    <tbody>
      {{#ifEsInputIsEmpty index="books"}}
        {{> booksAllList}}
      {{/ifEsInputIsEmpty}}
  
      {{#esEach index="books"}}
        {{> booksSearchList}}
      {{/esEach}}
      
      {{> esLoadMoreButton index="books"}}
      
      {{#ifEsHasNoResults index="books"}}
          <div class="no-results">No results found!</div>
      {{/ifEsHasNoResults}}
    </tbody>
  </table>
</template>

<template name="booksAllList">
      {{#each books}}
        <tr>
          <td>{{bookTitle}}</td>
          <td>{{bookISBN}}</td>
          <td>{{bookArtNrI3}}</td>
          <td><i><a href="/book/show/{{_id}}">show</a></i></td>
          <td><i><a href="/book/edit/{{_id}}">edit</a></i></td>
        </tr>
      {{/each}}
</template>

<template name="booksSearchList">
      <tr>
        <td>{{bookTitle}}</td>
        <td>{{bookISBN}}</td>
        <td>{{bookArtNrI3}}</td>
        <td><i><a href="/book/show/{{_id}}">show</a></i></td>
        <td><i><a href="/book/edit/{{_id}}">edit</a></i></td>
      </tr>
</template>